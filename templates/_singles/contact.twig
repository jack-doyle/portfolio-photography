{% extends '_layout' %}

{% set profileImage = entry.image.one() %}
{% set contactEmail = 'ie.jackdoyle@gmail.com' %}

{% block content %}
  <section aria-labelledby="contact-title" class="flex flex-col gap-8">
    <div class="space-y-3 max-w-3xl">
      <h1 id="contact-title" class="page-title">{{ entry.title }}</h1>
      <p class="text-lg leading-relaxed text-slate-700">
        I’m available for assignments, commissions, and collaborations. Share a few details about what you have in mind and I’ll get back to you quickly.
      </p>
    </div>

    <div class="grid gap-8 md:grid-cols-[260px,1fr] md:items-start">
      <div class="space-y-6 md:order-5">
        <div class="prose max-w-none">
          <p>
            You can reach me directly at
            <a href="mailto:{{ contactEmail }}">{{ contactEmail }}</a>.
          </p>
        </div>
      </div>
      {% if profileImage %}
        {% set altText = profileImage.alt ?? entry.title ~ ' portrait' %}
        {% set transformedUrl = profileImage.getUrl('fit') ?? profileImage.url %}
        {% set transformedWidth = profileImage.getWidth('fit') ?? profileImage.width ?? null %}
        {% set transformedHeight = profileImage.getHeight('fit') ?? profileImage.height ?? null %}
        <figure class="overflow-hidden border border-slate-200/80 shadow-sm md:order-0">
          <img
            class="h-full w-full object-cover"
            src="{{ transformedUrl }}"
            alt="{{ altText }}"
            loading="lazy"
            width="{{ transformedWidth }}"
            height="{{ transformedHeight }}"
          >
        </figure>
      {% endif %}
    </div>
  </section>
{% endblock %}
