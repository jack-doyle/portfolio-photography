@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-white text-slate-900 font-sans antialiased;
  }

  a {
    @apply text-slate-900;
  }

  main {
    margin: 0;
    padding: 0;
  }
}

@layer components {
  .main-content {
    min-height: 0;
  }

  .site-shell {
    @apply max-w-5xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:bg-white focus:px-4 focus:py-2 focus:text-brand focus:shadow;
  }

  .primary-nav {
    @apply flex flex-wrap gap-3 text-sm sm:text-base font-medium;
  }

  .nav-link {
    @apply inline-flex text-brand items-center gap-2 rounded-full px-3 py-1 transition-colors duration-150 ease-in-out focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/50;
  }

  .nav-link[aria-current="page"] {
    @apply font-semibold underline decoration-[3px] underline-offset-8;
  }

  .card {
    @apply rounded-lg border border-slate-200 bg-white/70 p-4 shadow-sm transition hover:shadow focus-within:shadow;
  }

  .prose {
    @apply space-y-4 leading-relaxed text-slate-800;
  }

  .prose p {
    @apply text-base;
  }

  .prose a {
    @apply text-brand underline decoration-1 underline-offset-2 hover:decoration-2;
  }

  /* Glide */
  .gallery-page {
    overflow: visible;
    min-height: calc(100vh - 120px);
  }

  .gallery-shell {
    @apply gap-6;
  }

  .gallery-slide-frame {
    aspect-ratio: 3 / 4;
    width: min(90vw, 26rem);
    max-height: min(70vh, 720px);
  }

  @media (min-width: 1024px) {
    .gallery-slide-frame {
      max-height: min(75vh, 780px);
    }
  }

  .gallery-glide .glide__slides {
    @apply flex items-center;
  }

  .gallery-glide .glide__bullet {
    @apply rounded-none;
    width: 3rem;
    height: 3rem;
  }

  .gallery-glide .glide__bullet--active {
    @apply ring-2 ring-brand/60;
  }

  .gallery-glide .glide__bullet img {
    @apply h-full w-full object-cover;
  }

  /* Lightbox */
  .gallery-lightbox {
    @apply fixed inset-0 z-50 hidden items-center justify-center;
  }

  .gallery-lightbox.is-open {
    @apply flex;
  }

  .lightbox-backdrop {
    @apply absolute inset-0 bg-black/70;
  }

  .lightbox-dialog {
    @apply relative z-10 mx-4 flex max-h-[90vh] flex-col gap-4 rounded-xl bg-white/95 p-4 shadow-2xl sm:mx-10 sm:p-6;
    width: min(1100px, 96vw);
  }

  .lightbox-toolbar {
    @apply flex items-center justify-between gap-3 text-sm font-semibold uppercase tracking-wide text-slate-700;
  }

  .lightbox-button {
    @apply inline-flex items-center justify-center px-3 py-2 uppercase text-brand font-extrabold hover:text-brand focus-visible:outline-none focus-visible:ring focus-visible:ring-brand/50;
  }

  .lightbox-frame {
    @apply relative overflow-hidden rounded-lg border border-slate-200 bg-black;
    height: min(75vh, 720px);
  }

  .lightbox-frame img {
    @apply h-full w-full object-contain bg-black;
  }
}

@layer utilities {
  .page-title {
    @apply text-3xl sm:text-4xl font-semibold tracking-tight text-brand mt-4 md:mt-12;
  }

  .muted {
    @apply text-sm text-slate-500;
  }
}
